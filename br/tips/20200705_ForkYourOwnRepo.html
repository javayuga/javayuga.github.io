<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fork no seu próprio repositório | Marco A A Silva</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/images/html.png">
    <meta name="description" content="Portfolio em português">
    <link rel="preload" href="/assets/css/0.styles.d849e5ee.css" as="style"><link rel="preload" href="/assets/js/app.40c417f8.js" as="script"><link rel="preload" href="/assets/js/3.73da86f9.js" as="script"><link rel="preload" href="/assets/js/11.af9fafb5.js" as="script"><link rel="prefetch" href="/assets/js/10.32f2499a.js"><link rel="prefetch" href="/assets/js/12.96e98a31.js"><link rel="prefetch" href="/assets/js/13.8ef9bac5.js"><link rel="prefetch" href="/assets/js/14.e3764af6.js"><link rel="prefetch" href="/assets/js/15.6df31556.js"><link rel="prefetch" href="/assets/js/16.1be2a01f.js"><link rel="prefetch" href="/assets/js/17.740a7a9a.js"><link rel="prefetch" href="/assets/js/18.08b855df.js"><link rel="prefetch" href="/assets/js/4.a66fb4e7.js"><link rel="prefetch" href="/assets/js/5.f053a152.js"><link rel="prefetch" href="/assets/js/6.a74bb92f.js"><link rel="prefetch" href="/assets/js/7.d3d2e281.js"><link rel="prefetch" href="/assets/js/8.3557ca75.js"><link rel="prefetch" href="/assets/js/9.e76ffcb7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f5584d80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d849e5ee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/br/" class="home-link router-link-active"><!----> <span class="site-name">Marco A A Silva</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/br/tips/" class="nav-link router-link-active">
  Dicas
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/20200705_ForkYourOwnRepo.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/br/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Português
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/br/tips/" class="nav-link router-link-active">
  Dicas
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/20200705_ForkYourOwnRepo.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/br/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Português
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/br/tips/" class="sidebar-heading clickable router-link-active open"><span>Dicas</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/br/tips/20200621_lombokIDEs.html" class="sidebar-link">Lombok e IDEs</a></li><li><a href="/br/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="active sidebar-link">Fork no seu próprio repositório</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/br/tips/20200705_ForkYourOwnRepo.html#forking-mudando-upstream" class="sidebar-link">Forking mudando upstream</a></li><li class="sidebar-sub-header"><a href="/br/tips/20200705_ForkYourOwnRepo.html#atualizando-o-pai" class="sidebar-link">Atualizando o pai</a></li><li class="sidebar-sub-header"><a href="/br/tips/20200705_ForkYourOwnRepo.html#realizando-um-push-no-upstream-master-branch" class="sidebar-link">Realizando um push no upstream master branch</a></li><li class="sidebar-sub-header"><a href="/br/tips/20200705_ForkYourOwnRepo.html#explorando-pull-requests" class="sidebar-link">Explorando Pull Requests</a></li><li class="sidebar-sub-header"><a href="/br/tips/20200705_ForkYourOwnRepo.html#juntando-as-partes" class="sidebar-link">Juntando as partes</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="fork-no-seu-proprio-repositorio"><a href="#fork-no-seu-proprio-repositorio" class="header-anchor">#</a> Fork no seu próprio repositório</h1> <p>Às vezes, será necessário realizar um fork no seu próprio repositório do Github.</p> <p>Encontrei esta situação recentemente, quando terminei o projeto <a href="https://javayuga.github.io/jwt-spring-boot-template/" target="_blank" rel="noopener noreferrer">jwt-spring-boot-template<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Este é apenas o primeiro numa série de artigos planejada para explorar Spring Boot como backend para frameworks populares de frontend (Vuew, React e AngularJS).</p> <p>O segundo artigo trata do frontend em <a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer">Vue Nuxt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Seria fácil fazer o projeto filho Vue existir por si só.</p> <p>Mas a intenção é compartilhar o <em>docker-compose.yml</em> que já começou a ser desenvolvido anteriormente no projeto JWT.</p> <p>A estrutura desejada é ter <strong>jwt-spring-boot-template</strong> como pai (upstream), e cada implementação de frontend como filho (downstream).  👪</p> <h2 id="forking-mudando-upstream"><a href="#forking-mudando-upstream" class="header-anchor">#</a> Forking mudando upstream</h2> <p>Se tentar realizar um fork do seu próprio projeto na interface do Github, verá uma mensagem assim:  😕</p> <img src="/images/2020-07-05_Fork01.png" alt="cannot fork own"> <p>Quando vc é o dono do repositório, não é permitido realizar of fork apenas clicando num botão.</p> <p>A forma correta é criar um novo repositório e alterar seu remote upstream.</p> <h3 id="criar-um-repositorio-vazio"><a href="#criar-um-repositorio-vazio" class="header-anchor">#</a> Criar um repositório vazio</h3> <img src="/images/2020-07-05_Fork02.png" alt="create empty"> <h3 id="clonar-o-repositorio-vazio-localmente"><a href="#clonar-o-repositorio-vazio-localmente" class="header-anchor">#</a> Clonar o repositório vazio localmente</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br></div><pre class="language-text"><code>$ git clone https://github.com/javayuga/jwt-spring-boot-nuxt-template
Cloning into 'jwt-spring-boot-nuxt-template'...
warning: You appear to have cloned an empty repository.
</code></pre></div><h3 id="adicionar-o-repositorio-pai-como-upstream-remote"><a href="#adicionar-o-repositorio-pai-como-upstream-remote" class="header-anchor">#</a> Adicionar o repositório pai como upstream remote</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-text"><code>$ cd jwt-spring-boot-nuxt-template/

$ git remote add upstream https://github.com/javayuga/jwt-spring-boot-template.git

$ git remote -v
origin  https://github.com/javayuga/jwt-spring-boot-nuxt-template (fetch)
origin  https://github.com/javayuga/jwt-spring-boot-nuxt-template (push)
upstream        https://github.com/javayuga/jwt-spring-boot-template.git (fetch)
upstream        https://github.com/javayuga/jwt-spring-boot-template.git (push)
</code></pre></div><h3 id="realizar-um-pull-do-codigo-fonte-a-partir-do-upstream"><a href="#realizar-um-pull-do-codigo-fonte-a-partir-do-upstream" class="header-anchor">#</a> Realizar um pull do código fonte a partir do upstream</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git pull upstream master
remote: Enumerating objects: 148, done.
remote: Counting objects: 100% (148/148), done.
remote: Compressing objects: 100% (94/94), done.
remote: Total 148 (delta 32), reused 138 (delta 25), pack-reused 0
Receiving objects: 100% (148/148), 465.38 KiB | 824.00 KiB/s, done.
Resolving deltas: 100% (32/32), done.
From https://github.com/javayuga/jwt-spring-boot-template
 * branch            master     -&gt; FETCH_HEAD
 * [new branch]      master     -&gt; upstream/master

</code></pre></div><h3 id="realizar-um-push-para-seu-proprio-master-branch"><a href="#realizar-um-push-para-seu-proprio-master-branch" class="header-anchor">#</a> Realizar um push para seu próprio master branch</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git push origin master
Enumerating objects: 148, done.
Counting objects: 100% (148/148), done.
Delta compression using up to 8 threads
Compressing objects: 100% (87/87), done.
Writing objects: 100% (148/148), 465.38 KiB | 51.71 MiB/s, done.
Total 148 (delta 32), reused 148 (delta 32)
remote: Resolving deltas: 100% (32/32), done.
To https://github.com/javayuga/jwt-spring-boot-nuxt-template
 * [new branch]      master -&gt; master
</code></pre></div><h2 id="atualizando-o-pai"><a href="#atualizando-o-pai" class="header-anchor">#</a> Atualizando o pai</h2> <p>Muito bem. 👍</p> <p>Após o último passo, você verá que o novo repositório não está mais vazio.</p> <img src="/images/2020-07-05_Fork03.png" alt="forked not empty"> <p>Agora pode prosseguir com as alterações no repositório conforme sempre.</p> <p>Mas digamos que você queira alterar o pai a partir do filho?</p> <p>Por exemplo, o README.md atual poderia ser atualizado para mencionar o novo projeto do NUXT.</p> <p>A intenção é tornar o README.md comum a todos projetos filhos de <strong>jwt-spring-boot-template</strong>.</p> <h2 id="realizando-um-push-no-upstream-master-branch"><a href="#realizando-um-push-no-upstream-master-branch" class="header-anchor">#</a> Realizando um push no upstream master branch</h2> <p>Comece realizando um commit normal (talvez com o <a href="https://tortoisegit.org/" target="_blank" rel="noopener noreferrer">TortoiseGit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>?):</p> <img src="/images/2020-07-05_Fork04.png" alt="regular commit"> <p>Então faça um push diretamente no master do upstream:</p> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git push upstream master
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 579 bytes | 579.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/javayuga/jwt-spring-boot-template.git
   84e4e48..0733cae  master -&gt; master
</code></pre></div><p>Agora você verá que as mudancás que fez no filho estão disponíveis no repositório pai:</p> <img src="/images/2020-07-05_Fork05.png" alt="regular commit"> <h2 id="explorando-pull-requests"><a href="#explorando-pull-requests" class="header-anchor">#</a> Explorando Pull Requests</h2> <p>O último exemplo só funciona bem quando você está sozinho e os dois repositórios lhe pertencem.</p> <p>Vamos explorar um pouco como o Github lida com pull requests, quando há diversos colaboradores e nem todos repositórios são seus.</p> <h3 id="realizand-pull-requests-a-partir-de-um-branch-no-mesmo-repositorio"><a href="#realizand-pull-requests-a-partir-de-um-branch-no-mesmo-repositorio" class="header-anchor">#</a> Realizand Pull requests a partir de um branch no mesmo repositório</h3> <p>Este é o cenário padrão para todos que colaboram num time. 💪</p> <p>Vamos dizer que faça algumas alterações nos nomes dos Dockerfiles, em preparação para ter múltiplos serviços declarados no seu <em>docker-compose.yml</em>.</p> <p>Você pode criar um novo branch chamado &quot;newDockerFolders&quot; e realizar um push das suas mudanças lá:</p> <img src="/images/2020-07-05_Fork06.png" alt="regular commit to new branch"> <p>Você pode então pedir para que um colega revise e aprove as mudanças:</p> <img src="/images/2020-07-05_Fork07.png" alt="create pull request"> <p>Clicando no botão &quot;compare &amp; pull request&quot; abrirá um novo formulário, que lhe dirá quais mudanças foram detectadas.</p> <p>A mensagem &quot;able to merge&quot; significa que nenhum conflito foi detectado.  Vamos nos ater apenas ao <a href="https://en.wikipedia.org/wiki/Happy_path" target="_blank" rel="noopener noreferrer">happy flow<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.  😀</p> <img src="/images/2020-07-05_Fork08.png" alt="create pull request"> <p>Agora seu colega abre a tab de Pull Requests.</p> <p>Como não há conflito, tudo que terá de fazer é clicar no botão de Merge Request.</p> <img src="/images/2020-07-05_Fork09.png" alt="merge branch"> <p>Ele também pode escolher apagar o branch de origem.</p> <img src="/images/2020-07-05_Fork10.png" alt="delete branch"> <p>Muito bem, até agora tudo certo.</p> <p>Isso foi apenas revisão, são os procedimentos padrão para realizar um merge no Github.</p> <h3 id="realizando-pull-request-num-novo-branch-para-o-repositorio-de-upstream"><a href="#realizando-pull-request-num-novo-branch-para-o-repositorio-de-upstream" class="header-anchor">#</a> Realizando Pull request num novo branch para o repositório de upstream</h3> <p>Se estiver contribuindo com um projeto comunitário, você certamente não terá permissao para realizar um push no master.</p> <p>Ao invés disso terá que realizar um push num branch separado:</p> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git push upstream master:newDockerFolders
Enumerating objects: 6, done.
Counting objects: 100% (6/6), done.
Delta compression using up to 8 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 1.02 KiB | 1.02 MiB/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
remote:
remote: Create a pull request for 'newDockerFolders' on GitHub by visiting:
remote:      https://github.com/javayuga/jwt-spring-boot-template/pull/new/newDockerFolders
remote:
To https://github.com/javayuga/jwt-spring-boot-template.git
 * [new branch]      master -&gt; newDockerFolders
</code></pre></div><p>O restante do procedimento será exatamente o mesmo: criar um pull request a partir do branch <em>NewDockerFolders</em>, aguardar que alguém dê um merge, e o repositório pai estará atualizado.</p> <img src="/images/2020-07-05_Fork11.png" alt="merged new branch on parent"> <h2 id="juntando-as-partes"><a href="#juntando-as-partes" class="header-anchor">#</a> Juntando as partes</h2> <p>Exploramos alguns cenários comuns ao usar múltiplos repositório no Github:</p> <ul><li>forking de projetos que lhe pertencem</li> <li>fazendo pushes para repositórios pai (upstream) diretamente no master branch</li> <li>criando pull requests no filho com um branch</li> <li>craindo pull requests no pai com um branch</li></ul> <p>Ainda que o Github tenha sido usado como exemplo, os conceitos básicos se aplicam a qualquer provedor de DevOps (como <a href="https://bitbucket.org/product/" target="_blank" rel="noopener noreferrer">BitBucket<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, ou <a href="https://about.gitlab.com/" target="_blank" rel="noopener noreferrer">gitlab<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) repositórios baseado no git (como o Bitbucket, ou gitlab)</p> <p>Se tiver dúvidas, comentários, entre em contato comigo pelo <a href="https://www.linkedin.com/in/marcoaasilva/" target="_blank" rel="noopener noreferrer">LinkedIn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. 📢</p> <p>Bons códigos! 😀</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/br/tips/20200621_lombokIDEs.html" class="prev">
        Lombok e IDEs
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.40c417f8.js" defer></script><script src="/assets/js/3.73da86f9.js" defer></script><script src="/assets/js/11.af9fafb5.js" defer></script>
  </body>
</html>
