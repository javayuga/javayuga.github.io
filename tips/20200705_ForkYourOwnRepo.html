<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Fork your own repo | Marco A A Silva</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/images/html.png">
    <meta name="description" content="English portfolio">
    <link rel="preload" href="/assets/css/0.styles.d849e5ee.css" as="style"><link rel="preload" href="/assets/js/app.40c417f8.js" as="script"><link rel="preload" href="/assets/js/3.73da86f9.js" as="script"><link rel="preload" href="/assets/js/17.740a7a9a.js" as="script"><link rel="prefetch" href="/assets/js/10.32f2499a.js"><link rel="prefetch" href="/assets/js/11.af9fafb5.js"><link rel="prefetch" href="/assets/js/12.96e98a31.js"><link rel="prefetch" href="/assets/js/13.8ef9bac5.js"><link rel="prefetch" href="/assets/js/14.e3764af6.js"><link rel="prefetch" href="/assets/js/15.6df31556.js"><link rel="prefetch" href="/assets/js/16.1be2a01f.js"><link rel="prefetch" href="/assets/js/18.08b855df.js"><link rel="prefetch" href="/assets/js/4.a66fb4e7.js"><link rel="prefetch" href="/assets/js/5.f053a152.js"><link rel="prefetch" href="/assets/js/6.a74bb92f.js"><link rel="prefetch" href="/assets/js/7.d3d2e281.js"><link rel="prefetch" href="/assets/js/8.3557ca75.js"><link rel="prefetch" href="/assets/js/9.e76ffcb7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f5584d80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d849e5ee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Marco A A Silva</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/tips/" class="nav-link router-link-active">
  Tips
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/br/tips/20200705_ForkYourOwnRepo.html" class="nav-link">
  Português
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/tips/" class="nav-link router-link-active">
  Tips
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/br/tips/20200705_ForkYourOwnRepo.html" class="nav-link">
  Português
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/tips/" class="sidebar-heading clickable router-link-active open"><span>Tips</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/tips/20200621_lombokIDEs.html" class="sidebar-link">Lombok and IDEs</a></li><li><a href="/tips/20200705_ForkYourOwnRepo.html" aria-current="page" class="active sidebar-link">Fork your own repo</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tips/20200705_ForkYourOwnRepo.html#forking-by-changing-upstream" class="sidebar-link">Forking by changing upstream</a></li><li class="sidebar-sub-header"><a href="/tips/20200705_ForkYourOwnRepo.html#updating-the-parent" class="sidebar-link">Updating the parent</a></li><li class="sidebar-sub-header"><a href="/tips/20200705_ForkYourOwnRepo.html#pushing-to-the-upstream-master" class="sidebar-link">Pushing to the upstream master</a></li><li class="sidebar-sub-header"><a href="/tips/20200705_ForkYourOwnRepo.html#exploring-pull-requests" class="sidebar-link">Exploring Pull Requests</a></li><li class="sidebar-sub-header"><a href="/tips/20200705_ForkYourOwnRepo.html#wrapping-it-up" class="sidebar-link">Wrapping it up</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="fork-your-own-repo"><a href="#fork-your-own-repo" class="header-anchor">#</a> Fork your own repo</h1> <p>Sometimes you may find yourself in need to fork your own repo on Github.</p> <p>I've come across this situation recently, when I finished the <a href="https://javayuga.github.io/jwt-spring-boot-template/" target="_blank" rel="noopener noreferrer">jwt-spring-boot-template<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> project.</p> <p>This is the first in a planned series to explore Spring Boot as backend for popular frontend frameworks (Vue, React, and AngularJS).</p> <p>The second article deals with a Vue Nuxt frontend.</p> <p>I could easily make the Vue project stand on its own.</p> <p>But the idea is to share the existing docker-compose.yml, whose development had already started during the JWT project.</p> <p>The desired final structure is to have <strong>jwt-spring-boot-template</strong> project as a parent (upstream), and each frontend implementation as a child (downstream).  👪</p> <h2 id="forking-by-changing-upstream"><a href="#forking-by-changing-upstream" class="header-anchor">#</a> Forking by changing upstream</h2> <p>If you try to fork your own repo using GitHub's interface, you'll see a message like this: 😕</p> <img src="/images/2020-07-05_Fork01.png" alt="cannot fork own"> <p>When you own the repository, you're not allowed to fork it by simply clicking on a button.</p> <p>The correct way is to create a new repository and change its upstream remote source.</p> <h3 id="create-an-empty-repo"><a href="#create-an-empty-repo" class="header-anchor">#</a> Create an empty repo</h3> <img src="/images/2020-07-05_Fork02.png" alt="create empty"> <h3 id="clone-the-empty-repo-locally"><a href="#clone-the-empty-repo-locally" class="header-anchor">#</a> Clone the empty repo locally</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br></div><pre class="language-text"><code>$ git clone https://github.com/javayuga/jwt-spring-boot-nuxt-template
Cloning into 'jwt-spring-boot-nuxt-template'...
warning: You appear to have cloned an empty repository.
</code></pre></div><h3 id="add-the-parent-repo-as-an-upstream-remote"><a href="#add-the-parent-repo-as-an-upstream-remote" class="header-anchor">#</a> Add the parent repo as an upstream remote</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br></div><pre class="language-text"><code>$ cd jwt-spring-boot-nuxt-template/

$ git remote add upstream https://github.com/javayuga/jwt-spring-boot-template.git

$ git remote -v
origin  https://github.com/javayuga/jwt-spring-boot-nuxt-template (fetch)
origin  https://github.com/javayuga/jwt-spring-boot-nuxt-template (push)
upstream        https://github.com/javayuga/jwt-spring-boot-template.git (fetch)
upstream        https://github.com/javayuga/jwt-spring-boot-template.git (push)
</code></pre></div><h3 id="pull-source-code-from-the-upstream"><a href="#pull-source-code-from-the-upstream" class="header-anchor">#</a> Pull source code from the upstream</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git pull upstream master
remote: Enumerating objects: 148, done.
remote: Counting objects: 100% (148/148), done.
remote: Compressing objects: 100% (94/94), done.
remote: Total 148 (delta 32), reused 138 (delta 25), pack-reused 0
Receiving objects: 100% (148/148), 465.38 KiB | 824.00 KiB/s, done.
Resolving deltas: 100% (32/32), done.
From https://github.com/javayuga/jwt-spring-boot-template
 * branch            master     -&gt; FETCH_HEAD
 * [new branch]      master     -&gt; upstream/master

</code></pre></div><h3 id="push-to-your-own-master"><a href="#push-to-your-own-master" class="header-anchor">#</a> Push to your own master</h3> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git push origin master
Enumerating objects: 148, done.
Counting objects: 100% (148/148), done.
Delta compression using up to 8 threads
Compressing objects: 100% (87/87), done.
Writing objects: 100% (148/148), 465.38 KiB | 51.71 MiB/s, done.
Total 148 (delta 32), reused 148 (delta 32)
remote: Resolving deltas: 100% (32/32), done.
To https://github.com/javayuga/jwt-spring-boot-nuxt-template
 * [new branch]      master -&gt; master
</code></pre></div><h2 id="updating-the-parent"><a href="#updating-the-parent" class="header-anchor">#</a> Updating the parent</h2> <p>Very well.  👍</p> <p>After the last step, you can see that the forked repository is not empty anymore.</p> <img src="/images/2020-07-05_Fork03.png" alt="forked not empty"> <p>Now you can proceed making changes to this repository as usual.</p> <p>But let's say that you want to make changes to the parent?</p> <p>For instance, the current README.MD could be updated to mention the new NUXT template.</p> <p>The goal is to make the README.md common to all children of <strong>jwt-spring-boot-template</strong>.</p> <h2 id="pushing-to-the-upstream-master"><a href="#pushing-to-the-upstream-master" class="header-anchor">#</a> Pushing to the upstream master</h2> <p>Start by making a regular commit (maybe with <a href="https://tortoisegit.org/" target="_blank" rel="noopener noreferrer">TortoiseGit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>):</p> <img src="/images/2020-07-05_Fork04.png" alt="regular commit"> <p>Then push the upstream master directly:</p> <div class="language- extra-class"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br></div><pre class="language-text"><code>$ git push upstream master
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 8 threads
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 579 bytes | 579.00 KiB/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local object.
To https://github.com/javayuga/jwt-spring-boot-template.git
   84e4e48..0733cae  master -&gt; master
</code></pre></div><p>Now you'll see that the changes you made on the child are available on the parent repo:</p> <img src="/images/2020-07-05_Fork05.png" alt="regular commit"> <h2 id="exploring-pull-requests"><a href="#exploring-pull-requests" class="header-anchor">#</a> Exploring Pull Requests</h2> <p>The last example only works well when you're sure you are alone and own both repositories.</p> <p>Let's explore a bit how Github handles pull requests with multiple collaborators, maybe on repositories that do not belong to you.</p> <h3 id="pull-request-from-a-branch-on-the-same-repo"><a href="#pull-request-from-a-branch-on-the-same-repo" class="header-anchor">#</a> Pull request from a branch on the same repo</h3> <p>This is a common scenario when you are collaborating in a team. 💪</p> <p>Let's say you made a few changes to how Dockerfiles are named, in preparation to have multiple services declared on your <em>docker-compose.yml</em>.</p> <p>You may create a new branch called &quot;newDockerFolders&quot;, and push your changes there:</p> <img src="/images/2020-07-05_Fork06.png" alt="regular commit to new branch"> <p>You may then ask your colleague to review and approve the changes:</p> <img src="/images/2020-07-05_Fork07.png" alt="create pull request"> <p>Clicking on the &quot;compare &amp; pull request&quot; button will open a new form, which tells you what changes were detected.</p> <p>The &quot;able to merge&quot; message means no conflicts were detected.   Let's stick to the <a href="https://en.wikipedia.org/wiki/Happy_path" target="_blank" rel="noopener noreferrer">happy flow<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. 😀</p> <img src="/images/2020-07-05_Fork08.png" alt="create pull request"> <p>Now if your colleague opens the Pull Requests tab.</p> <p>There is conflict, so all he needs to do is to click on the Merge Request button.</p> <img src="/images/2020-07-05_Fork09.png" alt="merge branch"> <p>He may choose to delete the branch as well.</p> <img src="/images/2020-07-05_Fork10.png" alt="delete branch"> <p>Fine, so far so good.</p> <p>This is all review, just the standard GitHub procedures for merging a branch.</p> <h3 id="pull-request-on-a-new-branch-for-the-upstream-repo"><a href="#pull-request-on-a-new-branch-for-the-upstream-repo" class="header-anchor">#</a> Pull request on a new branch for the upstream repo</h3> <p>If you are contributing with a community project, you will not have permission to push to master in the first place.</p> <p>Instead you will need to push to a separate branch:</p> <div class="language-{1) extra-class"><pre class="language-text"><code>$ git push upstream master:newDockerFolders
Enumerating objects: 6, done.
Counting objects: 100% (6/6), done.
Delta compression using up to 8 threads
Compressing objects: 100% (4/4), done.
Writing objects: 100% (4/4), 1.02 KiB | 1.02 MiB/s, done.
Total 4 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
remote:
remote: Create a pull request for 'newDockerFolders' on GitHub by visiting:
remote:      https://github.com/javayuga/jwt-spring-boot-template/pull/new/newDockerFolders
remote:
To https://github.com/javayuga/jwt-spring-boot-template.git
 * [new branch]      master -&gt; newDockerFolders
</code></pre></div><p>The rest of the procedure will look exactly the same.</p> <p>This is probably what you will see after creating and merging a pull request from the <em>NewDockerFolders</em> branch on your parent:</p> <img src="/images/2020-07-05_Fork11.png" alt="merged new branch on parent"> <h2 id="wrapping-it-up"><a href="#wrapping-it-up" class="header-anchor">#</a> Wrapping it up</h2> <p>We have explored some common scenarios when using multiple repositories on Github:</p> <ul><li>forking from a project that you own</li> <li>pushing to the parent directly on the master branch</li> <li>creating pull requests on the child with a branch</li> <li>creating pull requests on the parent with a brach</li></ul> <p>Though Github was used as an example, the basic concepts apply to any git-based DevOps providers (such as <a href="https://bitbucket.org/product/" target="_blank" rel="noopener noreferrer">BitBucket<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, or <a href="https://about.gitlab.com/" target="_blank" rel="noopener noreferrer">gitlab<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>).</p> <p>If you have any doubts or comments, please contact me on <a href="https://www.linkedin.com/in/marcoaasilva/" target="_blank" rel="noopener noreferrer">LinkedIn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. 📢</p> <p>Happy coding! 😀</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/tips/20200621_lombokIDEs.html" class="prev">
        Lombok and IDEs
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.40c417f8.js" defer></script><script src="/assets/js/3.73da86f9.js" defer></script><script src="/assets/js/17.740a7a9a.js" defer></script>
  </body>
</html>
